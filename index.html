<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cuestionario</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <style>
    body {
       font-family: Arial, sans-serif;
      background-image: url('abinbev.jpg'); /* Cambia por la URL de tu imagen de fondo */
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
      color: #fff;
      padding: 20px;
      position: relative;
    }
    .container {
      max-width: 800px;
      margin: 0 auto;
      background-color: rgba(44, 44, 44, 0.9); /* Fondo semitransparente */
      border-radius: 10px;
      padding: 20px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
    }
    .form-box {
      background-color: #2c2c2c;
      border-radius: 10px;
      padding: 20px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
    }
    .form-box label {
      color: #ddd;
    }
    .form-check-label {
      color: #bbb;
    }
    .btn-primary {
      background-color: #007bff;
      border-color: #007bff;
    }
    .btn-primary:hover {
      background-color: #0056b3;
      border-color: #004085;
    }
    .resultado {
      margin-top: 20px;
      font-size: 18px;
    }
    .resultado-debe-mejorar {
      color: red;
    }
    .resultado-bueno {
      color: orange;
    }
    .resultado-excelente {
      color: green;
    }
    /* Estilo para la imagen en la esquina inferior derecha */
    .corner-image {
      position: fixed;
      bottom: 10px;
      right: 10px;
      width: 150px; /* Ajusta el tamaño según sea necesario */
      height: auto;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="form-box">
      <h2 class="text-center">Cuestionario</h2>
      <form id="formulario" action="https://script.google.com/macros/s/AKfycbwbTQgdH-3gaaEI1pf-BrZw7G9a_87XVTG_L7bpAtN6PZd6p9IRDmhf6bR07dGTFbIvFw/exec" method="post">
        <!-- Campos para nombre y departamento -->
        
        <div class="form-group">
          <label for="nombre">Nombre:</label>
          <input type="text" class="form-control custom-input" id="nombre" name="Nombre" placeholder="Escribe tu nombre" required>
        </div>
        <div class="form-group">
          <label for="departamento">Departamento:</label>
          <input type="text" class="form-control custom-input" id="departamento" name="Departamento" placeholder="Escribe tu departamento" required>
        </div>
        <!-- Pregunta 1 --> 
        <div class="form-group">
          <label for="pregunta1">1. ¿Para qué sirve el plan de tráfico?</label>
          <div class="form-check">
            <input class="form-check-input" type="radio" name="Pregunta 1" value="a">
            <label class="form-check-label" for="respuesta1">A) Para hacer carreras de montacargas dentro de la planta.</label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" name="Pregunta 1" value="b">
            <label class="form-check-label" for="respuesta3">B) Para evitar el ingreso de vehículos no autorizados.</label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" name="Pregunta 1" value="c">
            <label class="form-check-label" for="respuesta2">C) Para ayudarte a orientarte dentro de la planta, marcando las rutas seguras para peatones y vehículos.</label>
          </div>
        </div>

        <!-- Pregunta 2 -->
        <div class="form-group">
          <label for="pregunta2">2. ¿Qué debes hacer antes de pasar por una puerta bandera?</label>
          <div class="form-check">
            <input class="form-check-input" type="radio" name="Pregunta 2" value="a">
            <label class="form-check-label" for="respuesta5">A) Asegurarte de que no haya vehículos en movimiento antes de abrir la puerta y cruzar con seguridad.</label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" name="Pregunta 2" value="b">
            <label class="form-check-label" for="respuesta4">B) Correr sin mirar porque los vehículos siempre frenan a tiempo.</label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" name="Pregunta 2" value="c">
            <label class="form-check-label" for="respuesta6">C) Ignorar el entorno y pasar rápidamente si la puerta está abierta.</label>
          </div>
        </div>

        <!-- Pregunta 3 -->
        <div class="form-group">
          <label for="pregunta3">3. ¿Puedes transitar por cualquier área sin problema?</label>
          <div class="form-check">
            <input class="form-check-input" type="radio" name="Pregunta 3" value="verdadero">
            <label class="form-check-label" for="respuesta7">Verdadero, siempre puedes transitar por donde quieras, mientras tengas cuidado.</label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" name="Pregunta 3" value="falso">
            <label class="form-check-label" for="respuesta8">Falso, debes seguir exclusivamente las líneas peatonales marcadas.</label>
          </div>
        </div>

        <!-- Pregunta 4 -->
        <div class="form-group">
          <label for="pregunta4">4. ¿Cuál es el equipo de protección personal que debes usar al entrar a la planta?</label>
          <div class="form-check">
            <input class="form-check-input" type="radio" name="Pregunta 4" value="a">
            <label class="form-check-label" for="respuesta9">A) Un sombrero de fiesta y gafas de sol.</label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" name="Pregunta 4" value="b">
            <label class="form-check-label" for="respuesta10">B) Casco, lentes de seguridad, proteccion auditiva y calzado de seguridad.</label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" name="Pregunta 4" value="c">
            <label class="form-check-label" for="respuesta11">C) Nada, porque confías en tu suerte.</label>
          </div>
        </div>

        <!-- Pregunta 5 -->
        <div class="form-group">
          <label for="pregunta5">5. ¿Para qué sirven las barreras de seguridad?</label>
          <div class="form-check">
            <input class="form-check-input" type="radio" name="Pregunta 5" value="a">
            <label class="form-check-label" for="respuesta12">A) Para decorar la planta y que se vea más bonita.</label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" name="Pregunta 5" value="b">
            <label class="form-check-label" for="respuesta14">B) Para marcar las rutas de acceso solo para vehículos.</label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" name="Pregunta 5" value="c">
            <label class="form-check-label" for="respuesta13">C) Para delimitar áreas y protegerte de los riesgos asociados con la circulación de montacargas.</label>
          </div>
      </div>
        <!-- Más preguntas (2-5) -->
        <!-- Copia el contenido de las preguntas aquí como en la estructura de la Pregunta 1 -->

        <div class="text-center">
          <button type="submit" class="btn btn-outline-success">ENVIAR</button>
          <button type="button" id="limpiar" class="btn btn-outline-warning">LIMPIAR</button>
        </div>
      </form>

      <div id="resultado" class="resultado text-center"></div>
    </div>
  </div>

  <!-- Imagen en la esquina inferior derecha -->
  <img src="logistica.jpg" alt="Imagen decorativa" class="corner-image">

<script>
    // Código del cuestionario y envío a Google Sheets
    const formulario = document.getElementById("formulario");
    const resultadoDiv = document.getElementById("resultado");
    const limpiarBtn = document.getElementById("limpiar");

    formulario.addEventListener("submit", function (event) {
        event.preventDefault();
        const respuestasCorrectas = {
            "Pregunta 1": "c",
            "Pregunta 2": "a",
            "Pregunta 3": "falso",
            "Pregunta 4": "b",
            "Pregunta 5": "c"
        };

        let puntaje = 0;
        let totalPreguntas = Object.keys(respuestasCorrectas).length;

        for (const pregunta in respuestasCorrectas) {
            const respuesta = document.querySelector(`input[name="${pregunta}"]:checked`);
            if (respuesta && respuesta.value === respuestasCorrectas[pregunta]) {
                puntaje++;
            }
        }

        let resultado = "";
        let clase = "";
        if (puntaje <= 2) {
            resultado = `¡Debes mejorar! Tu conocimiento es insuficiente. Respuestas correctas: ${puntaje} de ${totalPreguntas}.`;
            clase = "resultado-debe-mejorar";
        } else if (puntaje <= 4) {
            resultado = `¡Bueno! Tienes un conocimiento básico, pero aún hay áreas para mejorar. Respuestas correctas: ${puntaje} de ${totalPreguntas}.`;
            clase = "resultado-bueno";
        } else {
            resultado = `¡Excelente! Tienes un gran conocimiento ¡Excelente!. Respuestas correctas: ${puntaje} de ${totalPreguntas}.`;
            clase = "resultado-excelente";
        }

        resultadoDiv.className = `resultado ${clase}`;
        resultadoDiv.textContent = resultado;

        fetch(formulario.action, {
            method: formulario.method,
            body: new FormData(formulario)
        }).then(response => response.text())
            .then(result => console.log('Éxito:', result))
            .catch(error => console.error('Error al enviar los datos:', error));
    });

    // Evento para limpiar el formulario
    limpiarBtn.addEventListener("click", function () {
        formulario.reset(); // Restablece todos los campos del formulario
        resultadoDiv.textContent = ""; // Limpia el resultado mostrado
        resultadoDiv.className = ""; // Elimina cualquier clase aplicada al resultado

        // Deseleccionar manualmente todos los inputs tipo radio y checkbox
        const opciones = formulario.querySelectorAll('input[type="radio"], input[type="checkbox"]');
        opciones.forEach(opcion => opcion.checked = false);
    });
</script>

</body>
</html>
